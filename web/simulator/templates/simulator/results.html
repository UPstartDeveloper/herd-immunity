{% extends "simulator/base.html" %}

<!-- user sees results of the simulation -->
{% block content %}

    <h1>And the Results Are In!</h1>
    <h2>Did your population survive the epidemic?</h2>
    <hr
    <!-- display initial settings of simulation -->
    <h3>Initial Conditions</h3>
    <strong>Population Stats:</strong>
    <ul>
        <li>
            Time Step 0
        </li>
        <li>
            Population Size: {{ experiment.population_size }}
        </li>
        <li>
            Initially Infected: {{ experiment.initial_infected }}
        </li>
        <li>
            Vaccinated Percentage: {{ experiment.vaccination_percent }}
        </li>
        <li>
            Dead: 0
        </li>
    </ul>
    <hr>
    <h3>Final Results:</h3>
    <p>The experiment ended after <strong>{{ time_steps|length }} turn{{ time_steps|length|pluralize:"s" }}.</strong></p>
    <!-- display time steps -->
    <hr>
    <h3>Progression</h3>
    <p><i>What happened at each stage of the epidemic?</i></p>
    {% for time_step in time_steps %}
    <strong>Stats for Time Step: {{ time_step.step_id }}</strong>
    <ul>
        <li>
            <!-- Show bar charts, and pie charts -->
            <img src="#" alt="Plot Coming Soon">
        </li>
        <li>
            Total Infected: {{ time_step.total_infected }} <br>
            <i>*this number is over the course of the entire simulation</i>
        </li>
        <li>
            Current Infected: {{ time_step.current_infected }}
        </li>
        <li>
            Vaccination Percentage: {{ time_step.vaccinated_population }}
        </li>
        <li>
            Dead: {{ time_step.dead }}
        </li>
        <li>
            Total Vaccinated: {{ time_step.total_vaccinated }}
        </li>
        <li>
            Total Alive: {{ time_step.alive  }}
        </li>
        <li>
            Unifected individuals: {{ time_step.uninfected }}
        </li>
        <li>
            Uninteracted individuals: {{ time_step.uninteracted }} <br>
            <i>"uninteracted" meaning individuals alive, not vaccinated, and not vaccinated</i>
        </li>
    </ul>
    {% endfor %}
    <hr>
    <!-- display final settings of simulation -->
    <div class="offset-md-5">
        <a href="/" class="btn btn-primary">Back to Home</a>
    </div>
    <br><br>

{% endblock %}
